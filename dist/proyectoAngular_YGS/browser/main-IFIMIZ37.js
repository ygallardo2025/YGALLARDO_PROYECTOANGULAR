import{a as V,c as Z,d as f,e as K,f as Q,g as W,h as x}from"./chunk-XMFSSX6R.js";import{a as g}from"./chunk-NGHFI2C2.js";import{g as B,h as S,n as H,o as q,p as J}from"./chunk-VBKEXR47.js";import{$ as N,Aa as u,Ea as c,Ga as F,Ja as A,Va as m,W as p,Wa as r,Xa as i,Ya as d,a as C,aa as I,b as k,db as O,eb as T,fb as b,ga as L,lb as U,na as w,nb as a,qb as G,sb as l,va as s,vb as j,xb as z,za as D}from"./chunk-O2KJT2HM.js";var h=(t,n)=>{let e=p(g),o=p(f);return e.isAuthenticated()?!0:(o.navigate(["/","login"],{queryParams:{returnUrl:n.url}}),!1)};var X=(t,n)=>{let e=p(g),o=p(f);return e.isAuthenticated()&&e.hasRole("admin")?!0:(o.navigate(["/","dashboard"]),!1)};var Y=[{path:"login",loadComponent:()=>import("./chunk-LTPY3PVS.js").then(t=>t.LoginComponent)},{path:"dashboard",canActivate:[h],loadComponent:()=>import("./chunk-2GMSCEHN.js").then(t=>t.Dashboard)},{path:"students",canActivate:[h],loadComponent:()=>import("./chunk-L6F76ND2.js").then(t=>t.StudentsManagerComponent)},{path:"cursos",canActivate:[h],loadComponent:()=>import("./chunk-JZ6WBDA3.js").then(t=>t.CoursesComponent)},{path:"inscripciones",canActivate:[h],loadComponent:()=>import("./chunk-Z4HYK4FW.js").then(t=>t.EnrollmentsManagerComponent)},{path:"usuarios",canActivate:[h,X],loadComponent:()=>import("./chunk-3Q2UMSYH.js").then(t=>t.UsersManagerComponent)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];var $={providers:[L(),z(),W(Y),H(q())]};var y=class t{constructor(n,e){this.el=n;this.renderer=e}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"font-size","20px")}static \u0275fac=function(e){return new(e||t)(u(w),u(D))};static \u0275dir=F({type:t,selectors:[["","appBigtitle",""]]})};var M=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-toolbar"]],decls:2,vars:0,consts:[["appBigtitle","",1,"toolbar"]],template:function(e,o){e&1&&(r(0,"h1",0),a(1,` Gestion de Estudiantes
`),i())},dependencies:[y],styles:[".toolbar[_ngcontent-%COMP%]{border:2px solid rgb(143,143,139)}"]})};var v=t=>["/",t];function te(t,n){if(t&1&&(r(0,"li",5)(1,"a",6),d(2,"i",13),a(3," Usuarios "),i()()),t&2){let e=b();s(),m("routerLink",l(1,v,e.RoutePath.Users))}}function ne(t,n){if(t&1){let e=O();r(0,"div",14)(1,"div",15),a(2),i(),r(3,"button",16),T("click",function(){N(e);let P=b();return I(P.logout())}),a(4,"Cerrar sesi\xF3n"),i()()}if(t&2){let e=b();s(2),G(" Conectado como ",e.auth.currentUser==null?null:e.auth.currentUser.name," (",e.auth.currentUser==null?null:e.auth.currentUser.role,") ")}}function re(t,n){if(t&1&&(r(0,"div",14)(1,"a",17),a(2,"Iniciar sesi\xF3n"),i()()),t&2){let e=b();s(),m("routerLink",l(1,v,e.RoutePath.Login))}}var E=class t{constructor(n,e){this.auth=n;this.router=e}RoutePath=x;logout(){this.auth.logout(),this.router.navigate(["/","login"])}static \u0275fac=function(e){return new(e||t)(u(g),u(f))};static \u0275cmp=c({type:t,selectors:[["app-navbar"]],decls:25,vars:15,consts:[["loginLink",""],[1,"sidebar","bg-primary","text-white","vh-100","p-3"],[1,"sidebar-header","mb-4"],[1,"fw-bold"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["routerLinkActive","active",1,"nav-link","text-white",3,"routerLink"],[1,"bi","bi-grid-fill","me-2"],[1,"bi","bi-people-fill","me-2"],[1,"bi","bi-book-half","me-2"],[1,"bi","bi-card-checklist","me-2"],["class","nav-item mb-2",4,"ngIf"],["class","mt-auto pt-3 border-top border-light-subtle",4,"ngIf","ngIfElse"],[1,"bi","bi-person-gear","me-2"],[1,"mt-auto","pt-3","border-top","border-light-subtle"],[1,"small","opacity-75","mb-2"],[1,"btn","btn-light","w-100",3,"click"],[1,"btn","btn-light","w-100",3,"routerLink"]],template:function(e,o){if(e&1&&(r(0,"nav",1)(1,"div",2)(2,"h4",3),a(3,"Men\xFA"),i()(),r(4,"ul",4)(5,"li",5)(6,"a",6),d(7,"i",7),a(8," Dashboard "),i()(),r(9,"li",5)(10,"a",6),d(11,"i",8),a(12," Estudiantes "),i()(),r(13,"li",5)(14,"a",6),d(15,"i",9),a(16," Cursos "),i()(),r(17,"li",5)(18,"a",6),d(19,"i",10),a(20," Inscripciones "),i()(),A(21,te,4,3,"li",11),i(),A(22,ne,5,2,"div",12)(23,re,3,3,"ng-template",null,0,j),i()),e&2){let P=U(24);s(6),m("routerLink",l(7,v,o.RoutePath.Dashboard)),s(4),m("routerLink",l(9,v,o.RoutePath.Students)),s(4),m("routerLink",l(11,v,o.RoutePath.Courses)),s(4),m("routerLink",l(13,v,o.RoutePath.Enrollments)),s(3),m("ngIf",o.auth.isAuthenticated()&&o.auth.hasRole("admin")),s(),m("ngIf",o.auth.isAuthenticated())("ngIfElse",P)}},dependencies:[S,B,K,Q],styles:[".navbar[_ngcontent-%COMP%]{border:2px solid blue;display:block;width:100%}.sidebar[_ngcontent-%COMP%]{min-width:220px;max-width:240px;background:#3b4cca;color:#fff;border-top-right-radius:12px;border-bottom-right-radius:12px;box-shadow:2px 0 8px #0000000a}.sidebar-header[_ngcontent-%COMP%]{text-align:center;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.nav-link[_ngcontent-%COMP%]{font-size:1.08rem;padding:.75rem 1rem;border-radius:8px;transition:background .2s;display:flex;align-items:center}.nav-link.active[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]:hover{background:#ffffff26;color:#fff;font-weight:600;text-decoration:none}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:.7rem}"]})};var _=class t{students=[{id:1,name:"Juan",surname:"P\xE9rez",age:20,dni:"12345678",average:8},{id:2,name:"Ana",surname:"G\xF3mez",age:21,dni:"23456789",average:9},{id:3,name:"Nahuel",surname:"Suarez",age:31,dni:"28759622",average:8.5},{id:4,name:"Pedro",surname:"Soto",age:18,dni:"34789622",average:5.5}];estudianteParaEditar=null;addStudent(n){if(n.id){let e=this.students.findIndex(o=>o.id===n.id);e!==-1&&(this.students[e]=C({},n),this.students=[...this.students])}else{let e=k(C({},n),{id:this.generarNuevoId()});this.students=[...this.students,e]}this.estudianteParaEditar=null}onGuardarEditado(n){this.addStudent(n)}editarEstudiante(n){this.estudianteParaEditar=C({},n)}generarNuevoId(){return this.students.length>0?Math.max(...this.students.map(n=>n.id))+1:1}eliminarEstudiante(n){this.students=this.students.filter(e=>e.id!==n.id)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-root"]],decls:13,vars:0,consts:[[1,"app-layout",2,"display","flex","min-height","100vh"],[1,"main-content",2,"flex","1","background","#f9f7fa"],[1,"toolbar"],[1,"content",2,"padding","2rem"],[1,"footer","mt-4"],[1,"text-center"]],template:function(e,o){e&1&&(r(0,"div",0),d(1,"app-navbar"),r(2,"div",1),d(3,"app-toolbar",2),r(4,"div",3),d(5,"router-outlet"),i(),r(6,"div",4)(7,"p",5),a(8,"\xA9 2025 Proyecto Angular - Estudiantes"),i(),r(9,"p",5),a(10,"Desarrollado por ygallardo"),i(),r(11,"p",5),a(12,"Todos los derechos reservados"),i()()()())},dependencies:[Z,M,E,S,J],styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"toolbar toolbar" "navbar content";grid-template-columns:1fr 3fr;grid-template-rows:auto 1fr}.toolbar[_ngcontent-%COMP%]{grid-area:toolbar}.navbar[_ngcontent-%COMP%]{grid-area:navbar}.content[_ngcontent-%COMP%]{grid-area:content}']})};V(_,$).catch(t=>console.error(t));
